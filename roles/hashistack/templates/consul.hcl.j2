# Managed by jamlab-ansible
datacenter = "dc1"
data_dir = "/opt/consul"
encrypt = "{{ consul_gossip_key }}"
verify_incoming = true
verify_outgoing = true
verify_server_hostname = true

{% if hashistack is defined %}
    {%- if hashistack == 'server' %}
        {%- include 'consul_server.hcl.j2' %}
    {%- elif hashistack == 'client' %}
        {%- include 'consul_client.hcl.j2' %}
    {% endif %}
{% endif %}


retry_join = ["vb0.jamfox.dev", "vb1.jamfox.dev", "vb2.jamfox.dev"]

acl {
  enabled = true
  default_policy = "allow"
  enable_token_persistence = true
}

performance {
  raft_multiplier = 1
}
