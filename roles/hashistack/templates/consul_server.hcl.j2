tls {
  defaults {
    ca_file = "{{ consul.config_dir }}/{{ consul.tls.ca_file }}"
    cert_file = "{{ consul.config_dir }}/{{ consul.tls.cert_file }}"
    key_file = "{{ consul.config_dir }}/{{ consul.tls.key_file }}"
    verify_incoming = true
    verify_outgoing = true
  }

  internal_rpc {
    verify_server_hostname = true
  }
}

auto_encrypt {
  allow_tls = true
}

server = true
bootstrap_expect = 3
